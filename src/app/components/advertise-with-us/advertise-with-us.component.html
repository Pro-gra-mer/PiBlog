<div
  *ngIf="showSuccess"
  class="fixed top-20 left-1/2 transform -translate-x-1/2 bg-green-500 text-white px-6 py-4 rounded-xl shadow-lg z-50 animate-fade-in-out transition duration-300"
>
  üéâ Payment completed successfully!
</div>

<div
  *ngIf="showLoginMessage"
  class="mt-24 bg-red-600 text-white px-6 py-4 rounded-xl shadow-lg animate-fade-in-out transition duration-300 max-w-2xl mx-auto"
>
  ‚ö†Ô∏è You must <strong>sign in</strong> to publish or promote your app.
</div>

<!-- Advertise with Us Component (Pricing Cards) -->
<section class="container mx-auto py-20 mt-6 text-center">
  <h2 class="text-4xl font-bold text-primary mb-10">Advertise with Us</h2>
  <p class="text-secondary max-w-2xl mx-auto mb-12">
    Promote your Pi Network app with an article, video, and exclusive slider
    exposure. Get noticed by thousands of users looking for the next great app!
  </p>

  <div class="flex flex-wrap justify-center gap-6">
    <!-- Standard Plan -->
    <div
      class="p-6 border border-accent rounded-lg shadow-lg shadow-gradientEnd flex flex-col items-start text-left max-w-md"
    >
      <h3 class="text-2xl font-bold text-accent text-center w-full">
        Standard
      </h3>
      <p class="text-secondary mt-4">
        <span class="block"
          >‚úî Publish <strong>1 article</strong> featuring your app.</span
        >
        <span class="block"
          >‚úî Include <strong>1 video</strong> in your article.</span
        >
        <span class="block"
          >‚úî <span class="text-primary font-bold">One-time fee</span>, no
          subscription.</span
        >
        <span class="block">‚úî You can delete your article at any time.</span>
        <span class="block text-sm text-gray-500 mt-2"
          >üö´ No slider exposure included.</span
        >
      </p>
      <div class="mt-4 flex items-center justify-center w-full">
        <p class="text-primary font-bold text-xl">3‚Ç¨ (One-time)</p>
      </div>
      <button
        class="mt-6 bg-accent text-background py-2 px-6 rounded-lg hover:bg-opacity-80 w-full"
        (click)="openConfirmModal(PromoteType.STANDARD)"
      >
        Publish Now
      </button>
    </div>

    <!-- Category Slider Plan -->
    <!-- Category Slider Plan -->
    <div
      class="p-6 border-2 border-accent rounded-lg shadow-lg shadow-gradientEnd flex flex-col items-start text-left max-w-md"
    >
      <h3 class="text-2xl font-bold text-accent text-center w-full">
        Category Slider
      </h3>

      <p class="text-secondary mt-4">
        <span class="block"
          >‚úî Publish <strong>1 article</strong> featuring your app.</span
        >
        <span class="block"
          >‚úî Video <strong>featured in the category slider</strong>.</span
        >
        <span class="block text-sm text-secondary">
          ‚úî Videos rotate every <strong>15‚Äì30 seconds</strong>.
        </span>
        <span class="block">‚úî You can delete your article at any time.</span>
      </p>

      <!-- Selector de categor√≠a -->
      <div class="mt-4 w-full">
        <label class="block mb-1 font-semibold text-secondary"
          >Choose category:</label
        >
        <select
          class="w-full px-4 py-2 rounded border border-accent focus:outline-none"
          [(ngModel)]="selectedCategory"
          (change)="checkCategorySliderSlot()"
        >
          <option value="" disabled selected>Select a category</option>
          <option *ngFor="let category of categories" [value]="category.slug">
            {{ category.name }}
          </option>
        </select>
      </div>

      <!-- Info de slots -->
      <span class="block mt-2 text-sm text-red-500 font-bold">
        ‚úî
        {{
          availableSlots["CATEGORY_SLIDER"] !== undefined
            ? availableSlots["CATEGORY_SLIDER"] + " spots available"
            : "Select a category"
        }}
      </span>

      <!-- Precio y bot√≥n -->
      <div class="mt-4 flex items-center justify-center w-full">
        <p class="text-primary font-bold text-xl">15‚Ç¨ / Month</p>
      </div>
      <button
        [disabled]="!selectedCategory || !categorySliderAvailable"
        class="mt-6 bg-accent text-background py-2 px-6 rounded-lg hover:bg-opacity-80 w-full disabled:opacity-50"
        (click)="openConfirmModal(PromoteType.CATEGORY_SLIDER)"
      >
        {{ categorySliderAvailable ? "Get Featured" : "No Slots Available" }}
      </button>
    </div>

    <!-- Main Slider Plan -->
    <div
      class="p-6 border-2 border-primary rounded-lg shadow-lg shadow-gradientEnd flex flex-col items-start text-left max-w-md"
    >
      <h3 class="text-2xl font-bold text-accent text-center w-full">
        Main Slider
      </h3>
      <p class="text-secondary mt-4">
        <span class="block"
          >‚úî Publish <strong>1 article</strong> featuring your app.</span
        >
        <span class="block"
          >‚úî The article will appear in
          <strong>featured apps</strong> section</span
        >
        <span class="block"
          >‚úî Video <strong>featured on the homepage slider</strong>.</span
        >

        <span class="block text-sm text-secondary">
          ‚úî Rotates every <strong>15‚Äì30 seconds</strong> for maximum visibility.
        </span>

        <span class="block text-sm text-secondary">
          ‚úî If canceled, the video will be removed from the slider but the
          article remains online.
        </span>
      </p>
      <span class="block">‚úî You can delete your article at any time.</span>
      <span class="block mt-2">
        <p class="text-sm text-red-500 font-bold">
          ‚úî {{ availableSlots["MAIN_SLIDER"] || 0 }} global spots available
        </p>
      </span>
      <div class="mt-4 flex items-center justify-center w-full">
        <p class="text-primary font-bold text-xl">25‚Ç¨ / Month</p>
      </div>
      <button
        [disabled]="!mainSliderAvailable"
        class="mt-6 bg-primary text-background py-2 px-6 rounded-lg hover:bg-opacity-80 w-full disabled:opacity-50"
        (click)="openConfirmModal(PromoteType.MAIN_SLIDER)"
      >
        {{
          mainSliderAvailable ? "Get Maximum Visibility" : "No Slots Available"
        }}
      </button>
    </div>
  </div>
</section>
<div
  *ngIf="showConfirmModal"
  class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"
>
  <div class="bg-white p-6 rounded-lg shadow-lg text-center max-w-md">
    <h3 class="text-xl font-bold text-primary mb-4">Confirm Your Purchase</h3>
    <p class="text-secondary mb-6">
      Are you sure you want to purchase the
      <strong>{{ selectedPlan }}</strong> plan?
    </p>
    <div class="flex justify-center gap-4">
      <button
        class="bg-primary text-white px-4 py-2 rounded hover:bg-opacity-80"
        (click)="confirmPayment()"
      >
        Yes, Confirm
      </button>
      <button
        class="bg-gray-300 text-gray-800 px-4 py-2 rounded hover:bg-gray-400"
        (click)="cancelPayment()"
      >
        Cancel
      </button>
    </div>
  </div>
</div>
